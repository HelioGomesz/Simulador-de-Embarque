<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teste Simulador5.1.1</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
      }

      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        min-height: 100vh;
        overflow: hidden; /* Para evitar rolagem */
        background-color: #f4f4f4;
      }

      /* ======== CABE√áALHO ======== */
      header {
        background-color: #256a8a;
        color: white;
        width: 100%;
        padding: 10px;
      }

      .icones-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 98%;
        margin: auto;
      }

      header h1 {
        font-size: 40px;
        margin-left: 20px;
      }

      nav ul {
        display: flex;
        list-style: none;
      }

      nav ul li {
        margin-left: 20px;
      }

      .icon-btn {
        background: none;
        border: none;
        color: white;
        font-size: 28px;
        cursor: pointer;
        text-decoration: none;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .icon-btn span {
        font-size: 12px;
        color: white;
      }

      .container-section {
        position: relative;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 40px;
      }

      .caminhao-Container {
        position: absolute;
        top: 0;
        width: 100%;
        display: flex;
        justify-content: left;
        align-items: flex-start;
        z-index: 0;
      }

      .Caminhao-imagem {
        width: 350px;
        opacity: 0.4;
      }

      .container {
        display: flex;
        justify-content: center;
        gap: 40px;
        position: relative;
        z-index: 1;
        padding: 40px 0;
      }

      .column {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .cube {
        width: 100px;
        height: 85px;
        background-color: rgb(150, 68, 10);
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        border: 1px solid #fff;
        box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.8);
        cursor: pointer;
        transition: transform 0.3s;
      }

      .cube:hover {
        transform: scale(1.05);
      }

      .small {
        width: 120px;
        font-size: 12px;
      }

      .large {
        width: 160px;
      }

      .cupom-container {
        display: flex;
        gap: 20px;
        margin-top: 20px;
      }

      .cupom {
        background: #cecccc;
        border: 1px dashed black;
        padding: 20px;
        width: 500px;
        border-radius: 5px;
        box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);
      }

      .cupom h3 {
        padding: 10px;
        font-size: 24px;
        align-self: top;
        text-align: center;
      }

      .cupom ul {
        border-bottom: 1px solid #000; /* Linha preta semelhante a uma pauta de caderno */
        padding-bottom: 10px; /* Espa√ßamento antes da linha */
        margin-bottom: 5px; /* Espa√ßamento entre os itens */
        list-style: none; /* Remove o marcador padr√£o da lista */
        padding: 25px;
        font-size: 20px;
        align-self: top;
        text-align: center;
      }

      .cupom p {
        padding: 10px;
        font-size: 16px;
        text-align: center;
      }

      /* Criar um cont√™iner para alinhar os elementos lado a lado */
      .page-container {
        display: flex;
        justify-content: space-between; /* Distribui os elementos igualmente */
        align-items: flex-start; /* Alinha ao topo */
        gap: 5px; /* Espa√ßamento entre os elementos */
        padding: 20px;
        width: 100%;
      }

      .main-container {
        flex: 1; /* Ocupa o espa√ßo dispon√≠vel */
        display: flex;
        justify-content: flex-start;
      }

      .modal {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        width: 350px; /* Ajuste para um tamanho mais responsivo */
        height: auto;
        max-height: 80vh; /* Limita a altura para evitar cortes */
        transform: translate(-50%, -50%);
        border-radius: 10px; /*Curva os cantos do formul√°rio*/
        background: white; /*Cor de fundo do formul√°rio*/
        padding: 20px;
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
        z-index: 1000; /* Garante que o modal fique sobre outros elementos */
        overflow-y: auto; /* Permite rolagem se necess√°rio */
      }

      .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999; /* Coloca o overlay abaixo do modal */
      }

      .modal-content {
        background: #fff;
        padding: 20px;
        width: 300px;
        text-align: center;
        border-radius: 8px;
      }

      .modal-header {
        cursor: grab; /* Adicionado cursor: grab; ao cabe√ßalho do modal para indicar que ele pode ser arrastado. */
        background: #256a8a;
        color: white;
        padding: 10px;
        text-align: center;
        font-size: 18px;
        border-radius: 10px 10px 0 0;
      }

      .modal input,
      .modal select {
        width: 100%;
        padding: 10px;
        margin: 5px 0;
        font-size: 16px;
        border-radius: 5px;
        border: 1px solid #ccc;
      }

      .modal button {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        background-color: #256a8a;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
      }

      .modal button:hover {
        background-color: #004c7d;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="icones-header">
        <h1>Simulador de Embarque</h1>
        <nav>
          <ul>
            <li>
              <a href="../PagConfig/Configura√ß√µes.html" class="icon-btn"
                >‚öôÔ∏è<span>Configura√ß√µes</span></a
              >
            </li>
            <li>
              <a href="../PagIniciar/PaginaIniciar.HTML" class="icon-btn"
                >üö™<span>Sair</span></a
              >
            </li>
            <li>
              <a href="#" class="icon-btn">üìÑ<span>Exportar</span></a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <div class="container-section">
      <div class="Container">
        <img
          class="Caminhao-imagem"
          src="Caminh√£o_container.svg"
          alt="Caminh√£o"
        />
      </div>

      <div class="container">
        <div class="column" id="smallCubes">
          <script>
            for (let i = 1; i <= 9; i++) {
              document.write(
                `<div class='cube small' data-id='small-${i}'>P ${i}</div>`
              );
            }
          </script>
        </div>
        <div class="column" id="largeCubes">
          <script>
            for (let i = 1; i <= 9; i++) {
              document.write(
                `<div class='cube large' data-id='large-${i}'>G ${i}</div>`
              );
            }
          </script>
        </div>
      </div>
    </div>

    <div class="cupom-container">
      <div class="cupom">
        <h3>Cupom de Embarque</h3>
        <ul id="cupomList"></ul>
        <p>
          <strong>Total de Itens:</strong> <span id="totalQuantidade">0</span>
        </p>
        <p><strong>Peso Total:</strong> <span id="totalPeso">0</span> Kg</p>
      </div>

      <div class="cupom">
        <h3>Resumo Geral</h3>
        <ul id="resumoList"></ul>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
      <div class="modal-header">Adicionar Produto</div>
      <div class="modal-content">
        <select id="produto">
          <option value="LM0001-4000840">LM0001-4000840</option>
          <option value="LM0006-4000840">LM0006-4000840</option>
        </select>
        <input type="number" id="quantidade" placeholder="Quantidade" />
        <input type="number" id="peso" placeholder="Peso (Kg)" />
        <button onclick="addEntry()">Incluir</button>
        <button onclick="resetForm()">Excluir</button>
        <button onclick="closeModal()">Fechar</button>
      </div>
    </div>

    <script>
      let selectedCube = null;
      document.querySelectorAll('.cube').forEach((cube) => {
        cube.addEventListener('click', () => {
          selectedCube = cube;
          document.getElementById('modal').style.display = 'block';
        });
      });

      function addEntry() {
        if (!selectedCube) return;
        const produto = document.getElementById('produto').value;
        const quantidade =
          parseInt(document.getElementById('quantidade').value) || 0;
        const peso = parseInt(document.getElementById('peso').value) || 0;

        selectedCube.style.backgroundColor = '#4a4';
        selectedCube.textContent = `${produto} - ${quantidade} - ${peso}Kg`;

        document.getElementById(
          'cupomList'
        ).innerHTML += `<li>${produto} - ${quantidade} - ${peso}Kg</li>`;
        document.getElementById('totalQuantidade').textContent = quantidade;
        document.getElementById('totalPeso').textContent = peso;
        closeModal();
      }

      function resetForm() {
        if (!selectedCube) return;
        selectedCube.textContent = selectedCube.classList.contains('small')
          ? `P ${selectedCube.dataset.id.split('-')[1]}`
          : `G ${selectedCube.dataset.id.split('-')[1]}`;
        selectedCube.style.backgroundColor = 'rgb(150, 68, 10)';
        closeModal();
      }

      function closeModal() {
        document.getElementById('modal').style.display = 'none';
      }
    </script>
  </body>
</html>
